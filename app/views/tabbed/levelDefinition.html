<!-- levelDefinitions -->
<<<<<<< HEAD
<div class="emuwebapp-roundedBorderFrame" ng-class="{'emuwebapp-roundedBorderFrame-new': value.modified}" ng-repeat="(key, value) in cps.curDbConfig.levelDefinitions">
    <a href ng-show="value.modified" title="Close" class="emuwebapp-tabbed-close" ng-click="deleteDefinition('level', key)">X</a>
=======
<div ng-style="highlight('level', key)" class="emuwebapp-tabbed-rounded" ng-repeat="(key, value) in cps.curDbConfig.levelDefinitions">
    <a href ng-show="value.added" title="Close" class="emuwebapp-tabbed-close" ng-click="deleteDefinition('level', key)">X</a>
>>>>>>> master
    <div class="emuwebapp-tabbed-table">
        <span class="emuwebapp-tabbed-cell3">
		    Name: <input ng-if="value.modified" name="levelname" type="text" ng-model="cps.curDbConfig.levelDefinitions[key].name" class="emuwebapp-tabbed-input-bold" ng-focus="cursorInTextField();" ng-blur="cursorOutOfTextField();"></input>  
		         <span ng-if="!value.modified"><b>{{cps.curDbConfig.levelDefinitions[key].name}}</b></span>
		</span>
		<span class="emuwebapp-tabbed-cell3">
	        Type: <select ng-if="value.modified" ng-model="cps.curDbConfig.levelDefinitions[key].type" ng-options="opt as opt for opt in levelDefinitionProperties.type.enum" class="emuwebapp-tabbed-input-bold" ></select>
	        <span ng-if="!value.modified"><b>{{cps.curDbConfig.levelDefinitions[key].type}}</b></span>
	    </span>
	</div>
	<br />
<<<<<<< HEAD
	<div class="emuwebapp-roundedBorderFrame" ng-class="{'emuwebapp-roundedBorderFrame-new': value.modified}" class="emuwebapp-borderDashed">
		<div class="emuwebapp-borderTitle" ng-class="{'emuwebapp-borderTitle-new': value.modified}">Attribute Definitions</div>
			<div class="emuwebapp-tabbed-table" ng-repeat="(keyAttribute, valueAttribute) in value.attributeDefinitions" ng-style="{ background: valueAttribute.modified ? cps.vals.colors.levelColor : cps.vals.colors.nodeColor }">
=======
	<div ng-style="highlight('level', key)" class="emuwebapp-tabbed-rounded dashed">
		<div ng-class="classBorderDefinition('level', key)">Attribute Definitions</div>
			<div class="emuwebapp-tabbed-table" ng-repeat="(keyAttribute, valueAttribute) in value.attributeDefinitions">
>>>>>>> master
				<span ng-if="keyAttribute == 0" class="emuwebapp-tabbed-cell4">
					Name: <b>{{cps.curDbConfig.levelDefinitions[key].name}}</b>
				</span>
				<span ng-if="keyAttribute > 0" class="emuwebapp-tabbed-cell4">
					Name: <input type="text" ng-model="cps.curDbConfig.levelDefinitions[key].attributeDefinitions[keyAttribute].name" ng-focus="cursorInTextField();" ng-blur="cursorOutOfTextField();" class="emuwebapp-tabbed-input"></input>
				</span>
				<span class="emuwebapp-tabbed-cell4">
					Type: <select ng-model="cps.curDbConfig.levelDefinitions[key].attributeDefinitions[keyAttribute].type" ng-options="opt as opt for opt in levelDefinitionProperties.attributeDefinitions.items.properties.type.enum" class="emuwebapp-tabbed-input"></select>
				</span>
				<span class="emuwebapp-tabbed-cell4">
					Legal Labels: <input type="text" ng-model="valueAttribute.legalLabels" ng-change="change(valueAttribute);" class="emuwebapp-tabbed-input" ng-focus="cursorInTextField();" ng-blur="cursorOutOfTextField();" />
				</span>
				<button ng-show="valueAttribute.modified && !value.modified" ng-click="saveDefinition('legalLabels', key, 'MODIFYATTRIBUTEDEFINITION', valueAttribute)" id="emuwebapp-modal-save" class="emuwebapp-mini-btn-dialog" style="background: #fff; color: #000; border: 1px solid #000;">Save Changes</button>
				<button ng-show="valueAttribute.modified && !value.modified" ng-click="deleteDefinition('levelattribute', key, keyAttribute)" id="emuwebapp-modal-save" class="emuwebapp-mini-btn-dialog" style="background: #fff; color: #000; border: 1px solid #000;">Undo Changes</button>
			</div>
			<br />
			<a href title="Add new attribute definition" ng-click="addDefinition('levelattribute', key)"><span class="emuwebapp-tabbed-add">+</span> &nbsp; Add attribute definition</a>
		</div>
<<<<<<< HEAD
		<button ng-show="value.modified" ng-click="saveDefinition('level', key, 'ADDLEVELDEFINITION', cps.curDbConfig.levelDefinitions[key])" id="emuwebapp-modal-save" class="emuwebapp-mini-btn-dialog" style="color: #000; border: 1px solid #000;">Save</button>
=======
		<button ng-show="value.added" ng-click="saveDefinition('level', key, 'ADDLEVELDEFINITION', cps.curDbConfig.levelDefinitions[key])" id="emuwebapp-modal-save" class="emuwebapp-mini-btn" style="color: #000; border: 1px solid #000;">Save</button>
>>>>>>> master
		<span class="emuwebapp-tabbed-error" ng-show="response[key].show"><b>Error:</b>{{response[key].text}}</span>
	</div>
</div>
<br />
<a href title="Add new definition" ng-click="addDefinition('level')"><span class="emuwebapp-tabbed-add">+</span> add new level definition</a>
<br />
