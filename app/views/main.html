<!-- container for everything -->
<div ng-controller="MainCtrl" class="MainCtrl" id="MainCtrl" handleglobalkeystrokes>

  <!-- left side menu bar -->
  <bundle-list-side-bar></bundle-list-side-bar>
  
  <!-- container for everything but left sub-menu -->
  <div class="mainWindow" id="mainWindow">

    <!-- top menu bar -->
    <div class="menuBarTop">
      <button ng-show="cps.vals.activeButtons.openMenu" id="submenuOpen" ng-click="openSubmenu();" class="SideMenuBtn left"><img></img></button>
      <button ng-show="cps.vals.activeButtons.addLevelSeg" ng-disabled="!vs.getPermission('addLevelSegBtnClick')" class="mini-btn" tooltip-placement="bottom" data-tooltip="Shortcut: {{shortcut.addLevelSeg}}" ng-click="addLevelSegBtnClick();">add level (SEG.)</button> 
      <button ng-show="cps.vals.activeButtons.addLevelEvent" ng-disabled="!vs.getPermission('addLevelPointBtnClick')" class="mini-btn" ng-click="addLevelPointBtnClick();" tooltip-placement="bottom" data-tooltip="Shortcut: {{shortcut.addLevelPoint}}">add level (EVENT)</button> 
      <button ng-show="cps.vals.activeButtons.renameSelLevel" ng-disabled="!vs.getPermission('renameSelLevelBtnClick')" class="mini-btn" ng-click="renameSelLevelBtnClick();" tooltip-placement="bottom" data-tooltip="Shortcut: {{shortcut.renameLevel}}">rename sel. level</button> 
      <button ng-show="cps.vals.activeButtons.downloadTextGrid" ng-disabled="!vs.getPermission('downloadTextGridBtnClick')" class="mini-btn" ng-click="downloadTextGridBtnClick();" tooltip-placement="bottom" data-tooltip="Shortcut: {{shortcut.downloadTextgrid}}">download TextGrid</button> 
      <button id="spectSettingsBtn" ng-show="cps.vals.activeButtons.specSettings" ng-disabled="!vs.getPermission('spectSettingsChange')" class="mini-btn" tooltip-placement="bottom" data-tooltip="Shortcut: {{shortcut.spectroSettings}}" ng-click="spectSettingsBtnClick();">spec. settings</button>
      <button id="openDemoDBbtn" ng-show="cps.vals.activeButtons.openDemoDB" ng-disabled="!vs.getPermission('openDemoBtnDBclick')" class="mini-btn" tooltip-placement="bottom" data-tooltip="Shortcut: {{shortcut.demoDB}}" ng-click="openDemoDBbtnClick();">open demo DB</button>
      <button ng-show="cps.vals.activeButtons.connect" ng-disabled="!vs.getPermission('connectBtnClick')" class="mini-btn" tooltip-placement="bottom" data-tooltip="Shortcut: {{shortcut.connect}}" ng-click="connectBtnClick();">{{connectBtnLabel}}</button>
      <button ng-show="cps.vals.activeButtons.clear" ng-disabled="!vs.getPermission('clearBtnClick')" class="mini-btn" tooltip-placement="bottom" data-tooltip="Shortcut: {{shortcut.clear}}" ng-click="clearBtnClick();">clear</button>
      <a id="aboutBtn" class="SideMenuBtn2 right" title="About" ng-click="aboutBtnClick();"><img></img></a>
    </div>


    <!-- vertical split layout of main window -->
    <div class="allCans">
      <bg-splitter orientation="vertical">
        <bg-pane min-size="50" class="topPane">
          <div ng-controller="TimelineCtrl" class="timeline">
            <ul>
              <li ng-repeat="curTrack in config.vals.perspectives[vs.curPerspectiveIdx].signalCanvases.order" ng-switch on="curTrack">
                <osci ng-switch-when="OSCI" order="{{$index}}"></osci>
                <spectro ng-switch-when="SPEC" order="{{$index}}"></spectro>
                <ssff-track ng-switch-default order="{{$index}}"></ssff-track>
              </li>
            </ul>
          </div>
        </bg-pane>
        <bg-pane min-size="50" class="bottomPane">
          <div ng-controller="HandleLevelsCtrl">
            <ul ng-model="levelDetails.levels">
              <li ng-repeat="level in levelDetails.data.levels | levelsFilter" class="{{level.type}}" id="{{$index}}">
                <level id='{{level.name}}'></level>
              </li>
            </ul>
          </div>
        </bg-pane>
      </bg-splitter>
      
      <div class="twoDcanvases" show-twod="!is2dCancasesHidden" ng-show="cps.vals.perspectives[vs.curPerspectiveIdx].twoDcanvases.show">
        <!-- for 2D over time canvases like EPG/EMA/... -->
        <button class="twoDcanvasesOpenBtn" ng-click="toggle2dCancases();">
          <span class="glyphicon glyphicon-resize-full"></span>
        </button>
      </div>
      
      <!-- bottom menu bar -->
      <div class="menuBarBottom">
        <div ng-controller="TimelineCtrl">
          <preview id="preview" class="preview"></preview>  
        </div>
        <button id="zoomAllBtn" ng-click="cmdZoomAll();" ng-disabled="!vs.getPermission('zoom')" class="mini-btn" id="cmd_viewZoomAll" data-tooltip="Shortcut: {{shortcut.zoomAll}}">all</button>
        <button id="zoomInBtn" ng-click="cmdZoomIn();" ng-disabled="!vs.getPermission('zoom')" class="mini-btn" id="cmd_viewZoomIn" data-tooltip="Shortcut: {{shortcut.zoomIn}}">in</button>
        <button id="zoomOutBtn" ng-click="cmdZoomOut();" ng-disabled="!vs.getPermission('zoom')" class="mini-btn" id="cmd_viewZoomOut" data-tooltip="Shortcut: {{shortcut.zoomOut}}">out</button>
        <button id="zoomLeftBtn" ng-click="cmdZoomLeft();" ng-disabled="!vs.getPermission('zoom')" class="mini-btn" id="cmd_viewMoveLeft" data-tooltip="Shortcut: {{shortcut.shiftViewPortLeft}}">left</button>
        <button id="zoomRightBtn" ng-click="cmdZoomRight();" ng-disabled="!vs.getPermission('zoom')" class="mini-btn" id="cmd_viewMoveRight" data-tooltip="Shortcut: {{shortcut.shiftViewPortRight}}">right</button>
        <button id="zoomSelBtn" ng-click="cmdZoomSel();" ng-disabled="!vs.getPermission('zoom')" class="mini-btn" id="cmd_viewZoomSelect" data-tooltip="Shortcut: {{shortcut.zoomSel}}">selection</button>
        <button id="playViewBtn" ng-show="cps.vals.restrictions.playback" ng-click="cmdPlayView();" ng-disabled="!vs.getPermission('playaudio')" class="mini-btn" id="cmd_playPause" data-tooltip="Shortcut: {{shortcut.playAllInView}}">play in view</button>
        <button id="playSelBtn" ng-show="cps.vals.restrictions.playback" ng-click="cmdPlaySel();" ng-disabled="!vs.getPermission('playaudio')" class="mini-btn" id="cmd_playSelected" data-tooltip="Shortcut: {{shortcut.playSelected}}">play selected</button>
        <button id="playAllBtn" ng-show="cps.vals.restrictions.playback" ng-click="cmdPlayAll();" ng-disabled="!vs.getPermission('playaudio')" class="mini-btn" id="cmd_playAll" data-tooltip="Shortcut: {{shortcut.playEntireFile}}">play entire file</button>
      </div>
    </div>

<!-- right side menu bar -->
<nav class="righSideMenu" show-menu="!isRightSideMenuHidden">
  <button class="rightSideMenuOpenBtn" ng-click="toggleRightSideMenuHidden();"><img></button>
  <h3>Perspectives</h3>
  <ul ng-repeat="persp in cps.vals.perspectives">
    <li ng-click="changePerspective(persp);" ng-style="getPerspectiveColor(persp);">{{persp.name}}</li>
  </ul>
</nav>

<!-- main window end -->
</div>
</div>
